<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js Lighting Demo</title>
    <style>
        body {
            margin: 0;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <!-- 引入 Three.js 库 -->
    <script type="module">
        import * as THREE from '/build/three.module.min.js';

        // 1. 创建场景
        const scene = new THREE.Scene();
        // scene.background = new THREE.Color(0xeeeeee);  // 设置场景背景为浅灰色

        // 2. 创建相机
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;  // 设置相机位置

        // 3. 创建渲染器
        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);  // 设置渲染器的大小与浏览器窗口一致
        // renderer.setClearColor(0xeeeeee);  // 设置背景为浅灰色（0xeeeeee）
        document.body.appendChild(renderer.domElement);  // 将渲染器的 canvas 插入到页面中

        // 4. 创建球体（几何体 + 材质）
        const geometry = new THREE.SphereGeometry(1, 32, 32);  // 创建一个球体几何体，半径 1，分段数为 32
        const material = new THREE.MeshStandardMaterial({ color: new THREE.Color('#fede57'), roughness: 0.4, metalness: 0.6 });  // 创建标准材质，带有光泽感
        const sphere = new THREE.Mesh(geometry, material);  // 创建球体网格
        scene.add(sphere);  // 将球体添加到场景中

        // 5. 添加环境光（AmbientLight）
        const ambientLight = new THREE.AmbientLight(0x404040, 3);  // 环境光，弱光照亮整个场景
        scene.add(ambientLight);

        // 6. 添加点光源（PointLight）
        const pointLight = new THREE.PointLight(0xffffff, 2, 200);  // 点光源，白色，强度 1，距离 100
        pointLight.position.set(5, 5, 5);  // 设置光源位置
        scene.add(pointLight);

        // 7. 添加聚光灯（SpotLight），进一步提高亮度并控制光源的范围
        const spotLight = new THREE.SpotLight(0xffffff, 2, 10, Math.PI / 4, 0.1, 1);  // 设置强度为 2，范围 10
        spotLight.position.set(0, 5, 5);  // 设置光源位置
        scene.add(spotLight);

        // 7. 创建渲染函数
        function animate() {
            requestAnimationFrame(animate);

            // 让球体缓慢旋转
            sphere.rotation.x += 0.01;
            sphere.rotation.y += 0.01;

            // 渲染场景
            renderer.render(scene, camera);
        }

        animate();  // 启动动画
    </script>
</body>

</html>